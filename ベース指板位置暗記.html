<!DOCTYPE html>
	<head>
		<meta charset="UTF-8">
		<title>初見トレーニング</title>
		<script>
			var flag = 1;
			var base_x = 25;
			var base_y = 14;
			var base_width = 500;
			var line_spaceh = 30;
			var finger_num = 14;

			function random_question(){
				if(	flag == 0 ){
					flag = 1;
					document.getElementById("answer").style = "visibility: visible;"
				} else {
					flag = 0;
					document.getElementById("answer").style = "visibility: hidden;";
					var datalist = [
						["Ｇ","Ｇ♯/Ａ♭","Ａ","Ａ♯/Ｂ♭","Ｂ","Ｃ","Ｃ♯/Ｄ♭","Ｄ","Ｄ♯/Ｅ♭","Ｅ","Ｆ","Ｆ♯/Ｇ♭","Ｇ","Ｇ♯/Ａ♭"],
						["Ｄ","Ｄ♯/Ｅ♭","Ｅ","Ｆ","Ｆ♯/Ｇ♭","Ｇ","Ｇ♯/Ａ♭","Ａ","Ａ♯/Ｂ♭","Ｂ","Ｃ","Ｃ♯/Ｄ♭","Ｄ","Ｄ♯/Ｅ♭"],
						["Ａ","Ａ♯/Ｂ♭","Ｂ","Ｃ","Ｃ♯/Ｄ♭","Ｄ","Ｄ♯/Ｅ♭","Ｅ","Ｆ","Ｆ♯/Ｇ♭","Ｇ","Ｇ♯/Ａ♭","Ａ","Ａ♯/Ｂ♭"],
						["Ｅ","Ｆ","Ｆ♯/Ｇ♭","Ｇ","Ｇ♯/Ａ♭","Ａ","Ａ♯/Ｂ♭","Ｂ","Ｃ","Ｃ♯/Ｄ♭","Ｄ","Ｄ♯/Ｅ♭","Ｅ","Ｆ"]];

					var base_line = document.getElementById("contact");
					for(var i=0;i<base_line.length;++i){
						if(base_line[i].checked == true){
							if(base_line[i].value == 4){
								var base_num = Math.floor(Math.random() * 4);
							} else {
								var base_num = base_line[i].value;
							}
						}
					}

					var selectnum = Math.floor(Math.random() * datalist[0].length);
					document.getElementById("answer").innerHTML = datalist[base_num][selectnum];

					var rect_el = document.querySelector(".circle01");
					rect_el.setAttribute("cx",base_x + (base_width * selectnum / (finger_num - 1)) );
					rect_el.setAttribute("cy",base_y + (line_spaceh * base_num) );
				};
			}

			function default_set(){
				var NS = "http://www.w3.org/2000/svg";
				var x = 0;
				var y = 0;
				var svg1 = document.getElementById("field01");

				//罫線
				for(var i=0;i<4;++i){
					var line01 = document.createElementNS(NS, "line");
					line01.setAttribute("x1",base_x + 0);
					line01.setAttribute("y1",base_y + i * line_spaceh);
					line01.setAttribute("x2",base_x + base_width);
					line01.setAttribute("y2",base_y + i * line_spaceh);
					line01.setAttribute("stroke","black");
					line01.setAttribute("stroke-width",2.0);
					svg1.appendChild(line01);

				}
				//罫線
				for(var i=0;i<finger_num;++i){
					var line01 = document.createElementNS(NS, "line");
					line01.setAttribute("x1",base_x + (base_width * i / (finger_num - 1)) );
					line01.setAttribute("y1",base_y + 0);
					line01.setAttribute("x2",base_x + (base_width * i / (finger_num - 1)) );
					line01.setAttribute("y2",base_y + 3 * line_spaceh);
					line01.setAttribute("stroke","black");
					if(i == 0 || i == 3 || i == 5 || i == 7 || i == 9 || i == 12){
						line01.setAttribute("stroke-width",5.0);
					} else {
						line01.setAttribute("stroke-width",1.0);
					}


					svg1.appendChild(line01);

					var text01 = document.createElementNS(NS, "text");
					text01.textContent = i;
					text01.setAttribute("x",base_x + (base_width * i / (finger_num - 1)));
					text01.setAttribute("y",base_y + 3 * line_spaceh  + 30);
					svg1.appendChild(text01);

				}
				//対象
				var ellipse01 = document.createElementNS(NS, "ellipse");
				ellipse01.setAttribute("class","circle01");
				ellipse01.setAttribute("cx",x);
				ellipse01.setAttribute("cy",y);
				ellipse01.setAttribute("rx",10);
				ellipse01.setAttribute("ry",10);
				ellipse01.setAttribute("fill-opacity",0.0);
				ellipse01.setAttribute("stroke","red");
				ellipse01.setAttribute("stroke-width",4.0);

				svg1.appendChild(ellipse01);


			}
 		</script>
	</head>
	<body >
		<div id="answer">　</div>
		<br>
		<svg id="field01" width="800" height="180" onclick="random_question();">
		</svg>

		<form id="contact">
			<input type="radio" name="hyouka" value="0" checked="checked">第１弦
			<input type="radio" name="hyouka" value="1">第２弦
			<input type="radio" name="hyouka" value="2">第３弦
			<input type="radio" name="hyouka" value="3">第４弦
			<input type="radio" name="hyouka" value="4">ランダム
		</form>
		<script>
			default_set();
		</script>

	</body>
</html>
